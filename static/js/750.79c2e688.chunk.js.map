{"version":3,"file":"static/js/750.79c2e688.chunk.js","mappings":"mOACA,GAAgB,UAAY,gCAAgC,OAAS,6BAA6B,UAAY,gCAAgC,SAAW,+BAA+B,YAAc,kCAAkC,QAAU,8BAA8B,SAAW,gC,SCa3R,EAZoB,SAAC,GAAe,IAAbA,EAAY,EAAZA,MASrB,OAAO,0BAPDA,GAASA,EAAMC,aACG,IAAIC,KAAKF,EAAMC,cAChBE,cAEd,IAIV,EC8LD,EA1FqB,WAAO,IAAD,IACzB,GAA0BC,EAAAA,EAAAA,UAAS,MAAnC,eAAOJ,EAAP,KAAcK,EAAd,KACA,GAA0BD,EAAAA,EAAAA,UAAS,MAAnC,eAAOE,EAAP,KAAcC,EAAd,KACA,GAA8BH,EAAAA,EAAAA,WAAS,GAAvC,eAAOI,EAAP,KAAgBC,EAAhB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,WAEnDC,GAAYC,EAAAA,EAAAA,MAAZD,QAcR,OAZAE,EAAAA,EAAAA,YAAU,WACRT,GAAW,IACXU,EAAAA,EAAAA,IAAkBH,GACfI,MAAK,SAAAC,GACJhB,EAASgB,EACV,IACAC,OAAM,SAAAhB,GACLC,EAAS,iCACV,IACAgB,SAAQ,kBAAMd,GAAW,EAAjB,GACZ,GAAE,CAACO,KAGF,2BACGR,IAAW,yBAAK,iBACjB,UAAC,KAAD,CAAMgB,GAAIZ,EAAoBa,QAASC,UAAWC,EAAAA,SAAlD,UACG,IAAI,iBACU,OAGhBrB,IAAS,yBAAMA,IACfN,IACC,iBAAK0B,UAAWC,EAAAA,UAAhB,UACG3B,EAAM4B,aACL,gBACEC,IAAG,0CAAqC7B,EAAM4B,aAC9CE,IAAK9B,EAAM+B,MACXL,UAAWC,EAAAA,UAGb,gBACEE,IACE,qIAEFC,IAAI,UACJJ,UAAWC,EAAAA,UAGf,iBAAKD,UAAWC,EAAAA,UAAhB,WACE,0BACG3B,EAAM+B,MAAM,MAAE,SAAC,EAAD,CAAa/B,MAAOA,IAAS,QAE9C,yBAAG,gBAAmC,GAArBA,EAAMgC,cAAmBC,QAAQ,GAAG,QAErD,4BACE,wBAAI,cACJ,uBAAIjC,EAAMkC,eAEZ,4BACE,wBAAI,WACHlC,EAAMmC,QACLnC,EAAMmC,OAAOC,KAAI,gBAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,GAAT,OACf,cAAYZ,UAAWC,EAAAA,YAAvB,SACGU,GADKC,EADO,cAS3B,iBAAKZ,UAAWC,EAAAA,QAAhB,WACE,eAAID,UAAWC,EAAAA,SAAf,SAA6B,4BAC7B,2BACE,yBACE,SAAC,KAAD,CAAMH,GAAG,OAAOE,UAAWC,EAAAA,SAA3B,SAAyC,YAI3C,yBACE,SAAC,KAAD,CAAMH,GAAG,UAAUE,UAAWC,EAAAA,SAA9B,SAA4C,qBAOlD,SAAC,KAAD,MAGL,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","utils/ReleaseYear.jsx","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieCard\":\"MovieDetails_movieCard__UPRqg\",\"poster\":\"MovieDetails_poster__yO7gD\",\"movieInfo\":\"MovieDetails_movieInfo__4EKMk\",\"linkBack\":\"MovieDetails_linkBack__CKjEq\",\"movieGenres\":\"MovieDetails_movieGenres__frmdo\",\"wrapper\":\"MovieDetails_wrapper__YMWLn\",\"linkList\":\"MovieDetails_linkList__767FF\"};","import React from 'react';\n\nconst ReleaseYear = ({ movie }) => {\n  const getReleaseYear = () => {\n    if (movie && movie.release_date) {\n      const releaseDate = new Date(movie.release_date);\n      return releaseDate.getFullYear();\n    }\n    return '';\n  };\n\n  return <span>{getReleaseYear()}</span>;\n};\n\nexport default ReleaseYear;\n","// import React, { useEffect, useRef, useState } from 'react';\n// import { Link, Outlet, useLocation, useParams } from 'react-router-dom';\n// import { movieDetailsFetch } from 'services/api';\n// import css from './MovieDetails.module.css';\n\n// const MovieDetails = () => {\n//   const [movie, setMovie] = useState(null);\n//   const [error, setError] = useState(null);\n//   const [loading, setLoading] = useState(false);\n//   const location = useLocation();\n//   const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n//   const { movieId } = useParams();\n\n//   useEffect(() => {\n//     setLoading(true);\n//     movieDetailsFetch(movieId)\n//       .then(res => {\n//         setMovie(res);\n//       })\n//       .catch(error => {\n//         setError('Ooops. Something went wrong...');\n//       })\n//       .finally(() => setLoading(false));\n//   }, [movieId]);\n\n//   const getReleaseYear = () => {\n//     if (movie && movie.release_date) {\n//       const releaseDate = new Date(movie.release_date);\n//       return releaseDate.getFullYear();\n//     }\n//     return '';\n//   };\n\n//   return (\n//     <div>\n//       {loading && <div>Loading ...</div>}\n//       <Link to={backLinkLocationRef.current} className={css.linkBack}>\n//         {' '}\n//         &larr; Go back{' '}\n//       </Link>\n\n//       {error && <div>{error}</div>}\n//       {movie && (\n//         <div className={css.movieCard}>\n//           {movie.poster_path ? (\n//             <img\n//               src={`https://image.tmdb.org/t/p/w300/${movie.poster_path}`}\n//               alt={movie.title}\n//               className={css.poster}\n//             />\n//           ) : (\n//             <img\n//               src={\n//                 'https://st3.depositphotos.com/23594922/31822/v/450/depositphotos_318221368-stock-illustration-missing-picture-page-for-website.jpg'\n//               }\n//               alt=\"Nothing\"\n//               className={css.poster}\n//             />\n//           )}\n//           <div className={css.movieInfo}>\n//             <h2>\n//               {movie.title} ({getReleaseYear()})\n//             </h2>\n//             <p>User Score: {(movie.vote_average * 10).toFixed(0)}%</p>\n\n//             <div>\n//               <h3>Overview</h3>\n//               <p>{movie.overview}</p>\n//             </div>\n//             <div>\n//               <h3>Genres</h3>\n//               {movie.genres &&\n//                 movie.genres.map(({ name, id }) => (\n//                   <p key={id} className={css.movieGenres}>\n//                     {name}\n//                   </p>\n//                 ))}\n//             </div>\n//           </div>\n//         </div>\n//       )}\n//       <div className={css.wrapper}>\n//         <h4 className={css.subtitle}>Additional information</h4>\n//         <ul>\n//           <li>\n//             <Link to=\"cast\" className={css.linkList}>\n//               Cast\n//             </Link>\n//           </li>\n//           <li>\n//             <Link to=\"reviews\" className={css.linkList}>\n//               Reviews\n//             </Link>\n//           </li>\n//         </ul>\n//       </div>\n\n//       <Outlet />\n//     </div>\n//   );\n// };\n\n// export default MovieDetails;\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { movieDetailsFetch } from 'services/api';\nimport css from './MovieDetails.module.css';\nimport ReleaseYear from 'utils/ReleaseYear';\n\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    setLoading(true);\n    movieDetailsFetch(movieId)\n      .then(res => {\n        setMovie(res);\n      })\n      .catch(error => {\n        setError('Ooops. Something went wrong...');\n      })\n      .finally(() => setLoading(false));\n  }, [movieId]);\n\n  return (\n    <div>\n      {loading && <div>Loading ...</div>}\n      <Link to={backLinkLocationRef.current} className={css.linkBack}>\n        {' '}\n        &larr; Go back{' '}\n      </Link>\n\n      {error && <div>{error}</div>}\n      {movie && (\n        <div className={css.movieCard}>\n          {movie.poster_path ? (\n            <img\n              src={`https://image.tmdb.org/t/p/w300/${movie.poster_path}`}\n              alt={movie.title}\n              className={css.poster}\n            />\n          ) : (\n            <img\n              src={\n                'https://st3.depositphotos.com/23594922/31822/v/450/depositphotos_318221368-stock-illustration-missing-picture-page-for-website.jpg'\n              }\n              alt=\"Nothing\"\n              className={css.poster}\n            />\n          )}\n          <div className={css.movieInfo}>\n            <h2>\n              {movie.title} (<ReleaseYear movie={movie} />)\n            </h2>\n            <p>User Score: {(movie.vote_average * 10).toFixed(0)}%</p>\n\n            <div>\n              <h3>Overview</h3>\n              <p>{movie.overview}</p>\n            </div>\n            <div>\n              <h3>Genres</h3>\n              {movie.genres &&\n                movie.genres.map(({ name, id }) => (\n                  <p key={id} className={css.movieGenres}>\n                    {name}\n                  </p>\n                ))}\n            </div>\n          </div>\n        </div>\n      )}\n      <div className={css.wrapper}>\n        <h4 className={css.subtitle}>Additional information</h4>\n        <ul>\n          <li>\n            <Link to=\"cast\" className={css.linkList}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\" className={css.linkList}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n\n      <Outlet />\n    </div>\n  );\n};\n\nexport default MovieDetails;\n\n"],"names":["movie","release_date","Date","getFullYear","useState","setMovie","error","setError","loading","setLoading","location","useLocation","backLinkLocationRef","useRef","state","from","movieId","useParams","useEffect","movieDetailsFetch","then","res","catch","finally","to","current","className","css","poster_path","src","alt","title","vote_average","toFixed","overview","genres","map","name","id"],"sourceRoot":""}