{"version":3,"file":"static/js/135.41edc352.chunk.js","mappings":"mOACA,GAAgB,UAAY,gCAAgC,OAAS,6BAA6B,UAAY,gCAAgC,SAAW,+BAA+B,YAAc,kCAAkC,QAAU,8BAA8B,SAAW,gC,kBCgG3R,EA1FqB,WAAO,IAAD,IACzB,GAA0BA,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,WAEnDC,GAAYC,EAAAA,EAAAA,MAAZD,QAcR,OAZAE,EAAAA,EAAAA,YAAU,WACRT,GAAW,IACXU,EAAAA,EAAAA,IAAkBH,GACfI,MAAK,SAAAC,GACJhB,EAASgB,EACV,IACAC,OAAM,SAAAhB,GACLC,EAAS,iCACV,IACAgB,SAAQ,kBAAMd,GAAW,EAAjB,GACZ,GAAE,CAACO,KAGF,2BACGR,IAAW,uBAAG,iBACf,UAAC,KAAD,CAAMgB,GAAIZ,EAAoBa,QAASC,UAAWC,EAAAA,SAAlD,UACG,IAAI,iBACU,OAGhBC,QAAQtB,KAAU,uBAAIA,IACtBF,IACC,iBAAKsB,UAAWC,EAAAA,UAAhB,UACGvB,EAAMyB,aACL,gBACEC,IAAG,0CAAqC1B,EAAMyB,aAC9CE,IAAK3B,EAAM4B,MACXN,UAAWC,EAAAA,UAGb,gBACEG,IACE,qIAEFC,IAAI,UACJL,UAAWC,EAAAA,UAGf,iBAAKD,UAAWC,EAAAA,UAAhB,WACE,0BACGvB,EAAM4B,MAAM,MAAE,SAACC,EAAA,EAAD,CAAa7B,MAAOA,IAAS,QAE9C,yBAAG,gBAAmC,GAArBA,EAAM8B,cAAmBC,QAAQ,GAAG,QAErD,4BACE,wBAAI,cACJ,uBAAI/B,EAAMgC,eAEZ,4BACE,wBAAI,WACHhC,EAAMiC,QACLjC,EAAMiC,OAAOC,KAAI,gBAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,GAAT,OACf,cAAYd,UAAWC,EAAAA,YAAvB,SACGY,GADKC,EADO,cAS3B,iBAAKd,UAAWC,EAAAA,QAAhB,WACE,eAAID,UAAWC,EAAAA,SAAf,SAA6B,4BAC7B,2BACE,yBACE,SAAC,KAAD,CAAMH,GAAG,OAAOE,UAAWC,EAAAA,SAA3B,SAAyC,YAI3C,yBACE,SAAC,KAAD,CAAMH,GAAG,UAAUE,UAAWC,EAAAA,SAA9B,SAA4C,qBAOlD,SAAC,KAAD,MAGL,C,0CCjFD,IAZoB,SAAC,GAAe,IAAbvB,EAAY,EAAZA,MASrB,OAAO,0BAPDA,GAASA,EAAMqC,aACG,IAAIC,KAAKtC,EAAMqC,cAChBE,cAEd,IAIV,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","utils/ReleaseYear.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieCard\":\"MovieDetails_movieCard__UPRqg\",\"poster\":\"MovieDetails_poster__yO7gD\",\"movieInfo\":\"MovieDetails_movieInfo__4EKMk\",\"linkBack\":\"MovieDetails_linkBack__CKjEq\",\"movieGenres\":\"MovieDetails_movieGenres__frmdo\",\"wrapper\":\"MovieDetails_wrapper__YMWLn\",\"linkList\":\"MovieDetails_linkList__767FF\"};","import React, { useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { movieDetailsFetch } from 'services/api';\nimport css from './MovieDetails.module.css';\nimport ReleaseYear from 'utils/ReleaseYear';\n\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    setLoading(true);\n    movieDetailsFetch(movieId)\n      .then(res => {\n        setMovie(res);\n      })\n      .catch(error => {\n        setError('Ooops. Something went wrong...');\n      })\n      .finally(() => setLoading(false));\n  }, [movieId]);\n\n  return (\n    <div>\n      {loading && <p>Loading ...</p>}\n      <Link to={backLinkLocationRef.current} className={css.linkBack}>\n        {' '}\n        &larr; Go back{' '}\n      </Link>\n\n      {Boolean(error) && <p>{error}</p>}\n      {movie && (\n        <div className={css.movieCard}>\n          {movie.poster_path ? (\n            <img\n              src={`https://image.tmdb.org/t/p/w300/${movie.poster_path}`}\n              alt={movie.title}\n              className={css.poster}\n            />\n          ) : (\n            <img\n              src={\n                'https://st3.depositphotos.com/23594922/31822/v/450/depositphotos_318221368-stock-illustration-missing-picture-page-for-website.jpg'\n              }\n              alt=\"Nothing\"\n              className={css.poster}\n            />\n          )}\n          <div className={css.movieInfo}>\n            <h2>\n              {movie.title} (<ReleaseYear movie={movie} />)\n            </h2>\n            <p>User Score: {(movie.vote_average * 10).toFixed(0)}%</p>\n\n            <div>\n              <h3>Overview</h3>\n              <p>{movie.overview}</p>\n            </div>\n            <div>\n              <h3>Genres</h3>\n              {movie.genres &&\n                movie.genres.map(({ name, id }) => (\n                  <p key={id} className={css.movieGenres}>\n                    {name}\n                  </p>\n                ))}\n            </div>\n          </div>\n        </div>\n      )}\n      <div className={css.wrapper}>\n        <h4 className={css.subtitle}>Additional information</h4>\n        <ul>\n          <li>\n            <Link to=\"cast\" className={css.linkList}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\" className={css.linkList}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n\n      <Outlet />\n    </div>\n  );\n};\n\nexport default MovieDetails;\n\n","import React from 'react';\n\nconst ReleaseYear = ({ movie }) => {\n  const getReleaseYear = () => {\n    if (movie && movie.release_date) {\n      const releaseDate = new Date(movie.release_date);\n      return releaseDate.getFullYear();\n    }\n    return '';\n  };\n\n  return <span>{getReleaseYear()}</span>;\n};\n\nexport default ReleaseYear;\n"],"names":["useState","movie","setMovie","error","setError","loading","setLoading","location","useLocation","backLinkLocationRef","useRef","state","from","movieId","useParams","useEffect","movieDetailsFetch","then","res","catch","finally","to","current","className","css","Boolean","poster_path","src","alt","title","ReleaseYear","vote_average","toFixed","overview","genres","map","name","id","release_date","Date","getFullYear"],"sourceRoot":""}