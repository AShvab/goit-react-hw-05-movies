{"version":3,"file":"static/js/961.265886fb.chunk.js","mappings":"sMAoFA,UAhFqB,WAAO,IAAD,IACzB,GAA0BA,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,WAEnDC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,WACRT,GAAW,IACXU,EAAAA,EAAAA,IAAkBH,GACfI,MAAK,SAAAC,GACJhB,EAASgB,EACV,IACAC,OAAM,SAAAhB,GACLC,EAAS,iCACV,IACAgB,SAAQ,kBAAMd,GAAW,EAAjB,GACZ,GAAE,CAACO,IAWJ,OACE,4BACE,SAAC,KAAD,CAAMQ,GAAIZ,EAAoBa,QAA9B,SAAuC,YACtCjB,GAAW,cACXF,IAAS,yBAAMA,IACfF,IACC,2BACGA,EAAMsB,aACL,gBACEC,IAAG,0CAAqCvB,EAAMsB,aAC9CE,IAAKxB,EAAMyB,SAGb,gBACEF,IAAK,qIACLC,IAAI,UACJE,MAAO,OAGX,0BACG1B,EAAMyB,MAAM,KA3BjBzB,GAASA,EAAM2B,aACG,IAAIC,KAAK5B,EAAM2B,cAChBE,cAEd,GAuBkC,QAEnC,yBAAG,gBAAmC,GAArB7B,EAAM8B,cAAmBC,QAAQ,GAAG,QAErD,4BACE,wBAAI,cACJ,uBAAI/B,EAAMgC,eAGZ,4BACE,wBAAI,WACHhC,EAAMiC,QACLjC,EAAMiC,OAAOC,KAAI,gBAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,GAAT,OAAkB,uBAAaD,GAALC,EAA1B,WAIzB,wBAAI,4BACJ,2BACE,yBACE,SAAC,KAAD,CAAMhB,GAAG,OAAT,SAAgB,YAElB,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,SAAmB,kBAGvB,SAAC,KAAD,MAGL,C","sources":["pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { movieDetailsFetch } from 'services/api';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/movies');\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    setLoading(true);\n    movieDetailsFetch(movieId)\n      .then(res => {\n        setMovie(res);\n      })\n      .catch(error => {\n        setError('Ooops. Something went wrong...');\n      })\n      .finally(() => setLoading(false));\n  }, [movieId]);\n\n  // Рік виходу фільму\n  const getReleaseYear = () => {\n    if (movie && movie.release_date) {\n      const releaseDate = new Date(movie.release_date);\n      return releaseDate.getFullYear();\n    }\n    return '';\n  };\n\n  return (\n    <div>\n      <Link to={backLinkLocationRef.current}>Go back</Link>\n      {loading && 'Loading ...'}\n      {error && <div>{error}</div>}\n      {movie && (\n        <div>\n          {movie.poster_path ? (\n            <img\n              src={`https://image.tmdb.org/t/p/w300/${movie.poster_path}`}\n              alt={movie.title}\n            />\n          ) : (\n            <img\n              src={'https://st3.depositphotos.com/23594922/31822/v/450/depositphotos_318221368-stock-illustration-missing-picture-page-for-website.jpg'}\n              alt=\"Nothing\"\n              width={300}\n            />\n          )}\n          <h2>\n            {movie.title} ({getReleaseYear()})\n          </h2>\n          <p>User Score: {(movie.vote_average * 10).toFixed(0)}%</p>\n\n          <div>\n            <h3>Overview</h3>\n            <p>{movie.overview}</p>\n          </div>\n\n          <div>\n            <h3>Genres</h3>\n            {movie.genres &&\n              movie.genres.map(({ name, id }) => <p key={id}>{name}</p>)}\n          </div>\n        </div>\n      )}\n      <h4>Additional information</h4>\n      <ul>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n        <li>\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n      <Outlet />\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["useState","movie","setMovie","error","setError","loading","setLoading","location","useLocation","backLinkLocationRef","useRef","state","from","movieId","useParams","useEffect","movieDetailsFetch","then","res","catch","finally","to","current","poster_path","src","alt","title","width","release_date","Date","getFullYear","vote_average","toFixed","overview","genres","map","name","id"],"sourceRoot":""}